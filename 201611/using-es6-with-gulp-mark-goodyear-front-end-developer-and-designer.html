<!DOCTYPE html>
<html>
  <head>
      <script>
  var _hmt = _hmt || []
  ;(function() {
    var hm = document.createElement('script')
    hm.src = 'https://hm.baidu.com/hm.js?5a0acc897fd96474a2c8f4deac84611a'
    var s = document.getElementsByTagName('script')[0]
    s.parentNode.insertBefore(hm, s)
  })()
</script> 
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="keywords" content="technolgy" />
    <meta name="description" content="Seven‘s Lab" />
    
    <title>
      Using ES6 With Gulp — Mark Goodyear — Front-End Developer and Designer - Seven‘s Lab
    </title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="../style/style.css">
  <link rel="alternate" href="atom.xml" title="Seven‘s Lab" type="application/atom+xml">
</head>
  <body>
    
    <div id="post-toc" class="animated hiddenToc hide">
      <span class="title">Toc</span>
      <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-an-ES6-gulpfile"><span class="toc-text">Creating an ES6 gulpfile</span></a></li></ol>
    </div>
    
    <div id="fixed-menu-wrap">
      <span class="iconfont icon-sousuo search-box menu-reset"></span>
      <span class="icon-toc menu-reset">Toc</span>
      <span class="iconfont icon-arrowup menu-reset"></span>
    </div>
    <div id="fixed-menu">
      <span class="iconfont icon-menu-"></span>
    </div>
    <div id="progress">
      <div class="line"></div>
    </div>
    <div id="search-shade" class="animated hiddenSearch hide">
      <div class="input-wrap">
        <span class="iconfont icon-sousuo search-box"></span>
        <input type="text" placeholder="Search" />
        <span class="iconfont icon-close"></span>
      </div>
      <div class="search-result">
        <div class="meta">
          <span><b id="result-count">0</b> results found</span>
          <img src="/images/logo.jpeg" />
        </div>
        <ul id="result-box"></ul>
      </div>
    </div>
    <div id="menu-mask" class="animated hideMenuMask hide">
      <span class="iconfont icon-close"></span>
      <div class="nav">
        
        <a href="../index.html" class="">
          Home
        </a>
        
        <a href="../archives" class="">
          Archives
        </a>
        
        <a href="../categories" class="">
          Categories
        </a>
        
        <a href="../tags" class="">
          Tags
        </a>
        
        <a href="../about" class="">
          About
        </a>
        
      </div>
    </div>
    <div id="header">
      <div class="intro">
        <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        <div class="author">Seven Chen</div>
      </div>
      <div class="nav">
        <span class="iconfont icon-menu menu-icon"></span>
        <a href="#" class="search-box">
          <span class="iconfont icon-sousuo"></span>
        </a>
      </div>
    </div>
    <div id="side" class="animated bounceInLeft">
      <div class="shrink">
        <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        <span class="iconfont icon-menu toggle-icon"></span>
        <a href="#" class="search-box">
          <span class="iconfont icon-sousuo"></span>
        </a>
      </div>
      <div class="magnify">
        <div class="about">
          <div class="author">Seven Chen</div>
          <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        </div>

        <div class="nav">
          
          <a href="../index.html" class="">
            Home
          </a>
          
          <a href="../archives" class="">
            Archives
          </a>
          
          <a href="../categories" class="">
            Categories
          </a>
          
          <a href="../tags" class="">
            Tags
          </a>
          
          <a href="../about" class="">
            About
          </a>
          
          <a href="#" class="search-box">
            <span class="iconfont icon-sousuo"></span>
          </a>
        </div>
        <div class="bottom">
          <div class="follow">
            
            <a href="https://github.com/askdaddy" target="_block">
              <span class="iconfont icon-github"></span>
            </a>
            
            <a href="https://www.facebook.com/humen1" target="_block">
              <span class="iconfont icon-facebook"></span>
            </a>
            
            <a href="https://twitter.com/humen1" target="_block">
              <span class="iconfont icon-twitter"></span>
            </a>
             
            <a href="/atom.xml" target="_block">
              <span class="iconfont icon-rss"></span>
            </a>
            
          </div>
        </div>
      </div>
    </div>
    <div id="container">
      <div class="main animated bounceInRight delay-0.7s">
        <article class="post-entry">
    <div class="header">
      
      <div class="title">Using ES6 With Gulp — Mark Goodyear — Front-End Developer and Designer</div>
      <div class="meta">
        <span class="item">
          <span class="iconfont icon-time-circle"></span>
          <span>2016/11/23</span>
        </span>

        

        
        
         
          <span class="item">
            <span class="iconfont icon-tag1"></span>
            <span>
                
                  
                    <a href="/tags/Javascript">Javascript</a>
                  
                
                  
                    <a href="/tags/es6">es6</a>
                  
                
                  
                    <a href="/tags/h5">h5</a>
                  
                
            </span>
          </span>
         
      </div>
      <div>
      </div>
    </div>
    <p>Jun 24, 2015 With gulp 3.9, we are now able to use ES6 (or ES2015 as it’s now named) in our gulpfile—thanks to the awesome Babel transpiler. Firstly make sure you have at least version 3.9 of both the CLI and local version of gulp. To check which version you have, open up terminal and type:</p>
<pre><code>gulp -v</code></pre><p>This should return:</p>
<pre><code>CLI version 3.9.0
Local version 3.9.0</code></pre><p>If you get any versions lower than 3.9, update gulp in your <code>package.json</code> file, and run the following to update both versions:</p>
<pre><code>npm install gulp &amp;&amp; npm install gulp -g</code></pre><h3 id="Creating-an-ES6-gulpfile">Creating an ES6 gulpfile<a class="post-anchor" href="#Creating-an-ES6-gulpfile"></a></h3><p>To leverage ES6 you will need to install Babel (make sure you have Babel 6) as a dependency to your project, along with the es2015 plugin preset:</p>
<pre><code>npm install babel-core babel-preset-es2015 --save-dev</code></pre><p>Once this has finished, we need to create a <code>.babelrc</code> config file to enable the es2015 preset:</p>
<pre><code>touch .babelrc</code></pre><p>And add the following to the file:</p>
<pre><code>{
  &quot;presets&quot;: [&quot;es2015&quot;]
}</code></pre><p>We then need to instruct gulp to use Babel. To do this, we need to rename the <code>gulpfile.js</code> to <code>gulpfile.babel.js</code>:</p>
<pre><code>mv &quot;gulpfile.js&quot; &quot;gulpfile.babel.js&quot;</code></pre><p>We can now use ES6 via Babel! An example of a typical gulp task using new ES6 features:</p>
<pre><code>&apos;use strict&apos;;

import gulp from &apos;gulp&apos;;
import sass from &apos;gulp-sass&apos;;
import autoprefixer from &apos;gulp-autoprefixer&apos;;
import sourcemaps from &apos;gulp-sourcemaps&apos;;

const dirs = {
  src: &apos;src&apos;,
  dest: &apos;build&apos;
};

const sassPaths = {
  src: `${dirs.src}/app.scss`,
  dest: `${dirs.dest}/styles/`
};

gulp.task(&apos;styles&apos;, () =&gt; {
  return gulp.src(paths.src)
    .pipe(sourcemaps.init())
    .pipe(sass.sync().on(&apos;error&apos;, plugins.sass.logError))
    .pipe(autoprefixer())
    .pipe(sourcemaps.write(&apos;.&apos;))
    .pipe(gulp.dest(paths.dest));
});</code></pre><p>Here we have utilised ES6 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import" target="_blank" rel="noopener">import/modules</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">arrow functions</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings" target="_blank" rel="noopener">template strings</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const" target="_blank" rel="noopener">constants</a>. If you’d like to check out more ES6 features, <a href="http://es6-features.org/" target="_blank" rel="noopener">es6-features.org</a> is a handy resource.</p>


  
  <div class="post-guide">
    <div class="item left">
        
          <a href="201611/e6-88-91-e4-bb-ac-e7-86-9f-e7-9f-a5-e7-9a-84-e9-82-a3-e4-ba-9b-e8-8b-b1-e6-96-87-ef-bc-8c-e4-bd-a0-e5-bf-b5-e5-af-b9-e4-ba-86-e4-b9-88-ef-bc-9ffw.html">我们熟知的那些英文，你念对了么？[FW]</a>
        
    </div>
    <div class="item right">
        
          <a href="201611/manpath-cant-set-the-locale-make-sure-lc-and-lang-are-correct.html">Manpath: Can't Set the Locale; Make Sure $LC_* and $LANG Are Correct</a>
        
    </div>
  </div>

  

  <div class="post-copyright">
    <div class="auth">
      本文作者：<a href="http://www.humen1.com">Seven Chen</a>
    </div>
    <div class="link">
      永久链接：<a href="http://www.humen1.com">http://www.humen1.com</a>
    </div>
    <div class="declare">
      版权声明：本文首发于<a href="http://www.humen1.com">Seven Chen</a>的博客，转载请注明出处！
    </div>
  </div>

  <div id="comment"></div>

  
  
</article>
        <footer>
          <div class="copyright">
            ©2019
            <a href="http://www.humen1.com">Seven Chen</a> Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> |
            <a href="https://github.com/shixiaohu2206/hexo-theme-huhu" target="_blank" rel="noopener">hexo-theme-huhu</a>
          </div>
          
        </footer>
      </div>
    </div>
  </body>
  
</html>
<script type="text/javascript">
                  window.HUHU_CONFIG = JSON.parse("{\"share\":[\"weibo\",\"weixin\",\"qqkongjian\",\"QQ\",\"douban\",\"facebook\",\"twitter\",\"google\"],\"service_worker\":{\"open\":false}}")
                </script> <script type="text/javascript">window.addEventListener('load', function() {
    
    window.loadJs = function(d, m, a) {
      var c = document.getElementsByTagName('head')[0] || document.head || document.documentElement
      var b = document.createElement('script')
      b.defer = true
      b.setAttribute('type', 'text/javascript')
      b.setAttribute('charset', 'UTF-8')
      b.setAttribute('async', 'true')
      b.setAttribute('src', d)
      m && b.setAttribute('data-main', '/scripts/app-built')
      if (typeof a === 'function') {
        if (window.attachEvent) {
          b.onreadystatechange = function() {
            var e = b.readyState
            if (e === 'loaded' || e === 'complete') {
              b.onreadystatechange = null
              a()
            }
          }
        } else {
          b.onload = a
        }
      }
      c.appendChild(b)
    }
    window.loadJs && window.loadJs('https://cdn.bootcss.com/require.js/2.3.6/require.min.js', true, function() {require.config({"paths":{"util":"util","share":"share","search":"search","registerSW":"registerSW","valine":"cdn/Valine.min","av":["https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min"],"pjax":["https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min"],"jquery":["https://cdn.bootcss.com/jquery/3.4.1/jquery.min"],"confirm":["https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min"],"fancybox":["https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min"],"chart":["https://cdn.bootcss.com/Chart.js/2.8.0-rc.1/Chart.bundle.min"]},"map":{"*":{"css":"https://cdn.bootcss.com/require-css/0.1.10/css.min.js"}},"shim":{"fancybox":{"deps":["css!https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css"]},"confirm":{"deps":["css!https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min.css"]},"chart":{"deps":["css!https://cdn.bootcss.com/Chart.js/2.8.0-rc.1/Chart.min.css"]}},"waitSeconds":3})})
  })</script> <script type="text/javascript">
                  ;(function() {
                    var bp = document.createElement('script')
                    var curProtocol = window.location.protocol.split(':')[0]
                    if (curProtocol === 'https') {
                      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'
                    } else {
                      bp.src = 'http://push.zhanzhang.baidu.com/push.js'
                    }
                    var s = document.getElementsByTagName('script')[0]
                    s.parentNode.insertBefore(bp, s)
                  })()
                </script> 
